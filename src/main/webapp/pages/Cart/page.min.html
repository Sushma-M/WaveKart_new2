<style id="Cart.css">

</style>
<script id="Cart.js">
Application.$controller("CartPageController", ["$scope", function ($scope) {
    "use strict";

    /* perform any action with the variables inside this block(on-page-load) */
    $scope.onPageVariablesReady = function () {
        /*
         * variables can be accessed through '$scope.Variables' property here
         * e.g. $scope.Variables.staticVariable1.getData()
         */
    };
    
    /* perform any action with widgets inside this block */
    $scope.onPageReady = function () {
        /*
         * widgets can be accessed through '$scope.Widgets' property here
         * e.g. $scope.Widgets.byId(), $scope.Widgets.byName()or access widgets by $scope.Widgets.widgetName
         */
    };

}]);

</script>
<script id="Cart.variables.json">
var _CartPage_Variables_ ={
	"cart": {
		"name": "cart",
		"type": "Itemorder",
		"isList": false,
		"owner": "Page",
		"dataSet": {
			"dataValue": ""
		},
		"dataBinding": [
			{
				"target": "status",
				"value": "In Cart",
				"type": "string"
			}
		],
		"saveInPhonegap": false,
		"firstRow": 0,
		"maxResults": 20,
		"designMaxResults": 10,
		"operation": "read",
		"startUpdate": true,
		"autoUpdate": true,
		"inFlightBehavior": "executeAll",
		"transformationRequired": false,
		"liveSource": "eshopping",
		"ignoreCase": false,
		"matchMode": "start",
		"bindCount": null,
		"package": "com.eshop.eshopping.Itemorder",
		"propertiesMap": {
			"columns": [
				{
					"fieldName": "product",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "PRODUCT_ID",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": true,
					"defaultValue": null,
					"relatedTableName": "PRODUCT",
					"relatedEntityName": "Product",
					"columns": [
						{
							"fieldName": "id",
							"type": "integer",
							"hibernateType": "integer",
							"fullyQualifiedType": "integer",
							"columnName": "ID",
							"isPrimaryKey": true,
							"notNull": true,
							"length": 255,
							"generator": "identity",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "imgUrl",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "IMG_URL",
							"isPrimaryKey": false,
							"notNull": false,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "category",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "CATEGORY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "price",
							"type": "double",
							"hibernateType": "double",
							"fullyQualifiedType": "double",
							"columnName": "PRICE",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "description",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "DESCRIPTION",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "name",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "NAME",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "availability",
							"type": "boolean",
							"hibernateType": "boolean",
							"fullyQualifiedType": "boolean",
							"columnName": "AVAILABILITY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						}
					],
					"relatedFieldName": "product.id",
					"isList": false
				},
				{
					"fieldName": "user",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "USER_ID",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": true,
					"defaultValue": null,
					"relatedTableName": "USER",
					"relatedEntityName": "User",
					"columns": [
						{
							"fieldName": "id",
							"type": "integer",
							"hibernateType": "integer",
							"fullyQualifiedType": "integer",
							"columnName": "ID",
							"isPrimaryKey": true,
							"notNull": true,
							"length": 255,
							"generator": "identity",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "landmark",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "LANDMARK",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "phone",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PHONE",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 15,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "pin",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PIN",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "email",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "EMAIL",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "street",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "STREET",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "name",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "NAME",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "productBought",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PRODUCT_BOUGHT",
							"isPrimaryKey": false,
							"notNull": false,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "password",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PASSWORD",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "country",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "COUNTRY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "city",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "CITY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "role",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "ROLE",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						}
					],
					"relatedFieldName": "user.id",
					"isList": false
				},
				{
					"fieldName": "id",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "ID",
					"isPrimaryKey": true,
					"notNull": true,
					"length": 255,
					"generator": "identity",
					"isRelated": false,
					"defaultValue": null
				},
				{
					"fieldName": "status",
					"type": "string",
					"hibernateType": "string",
					"fullyQualifiedType": "string",
					"columnName": "STATUS",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": false,
					"defaultValue": null
				},
				{
					"fieldName": "quantity",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "QUANTITY",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": false,
					"defaultValue": null
				}
			],
			"primaryFields": [
				"id"
			],
			"entityName": "Itemorder",
			"fullyQualifiedName": "com.eshop.eshopping.Itemorder",
			"tableType": "TABLE"
		},
		"_id": "wm-cart-wm.LiveVariable-1450090065926",
		"tableName": "ITEMORDER",
		"relatedTables": [
			{
				"relationName": "product",
				"watchOn": "EshoppingProductData",
				"package": "com.eshop.eshopping.Itemorder",
				"columnName": "product",
				"type": "Product"
			},
			{
				"relationName": "user",
				"watchOn": "EshoppingUserData",
				"package": "com.eshop.eshopping.Itemorder",
				"columnName": "user",
				"type": "User"
			}
		],
		"properties": [
			"product",
			"user"
		],
		"category": "wm.LiveVariable",
		"filterFields": {},
		"tableType": "TABLE"
	},
	"DeleteCart": {
		"name": "DeleteCart",
		"type": "Itemorder",
		"isList": false,
		"owner": "Page",
		"dataSet": {
			"dataValue": ""
		},
		"dataBinding": [
			{
				"target": "id",
				"value": "bind:Widgets.livelist1.selecteditem.id",
				"type": "number"
			}
		],
		"saveInPhonegap": false,
		"firstRow": 0,
		"maxResults": 20,
		"designMaxResults": 10,
		"operation": "delete",
		"startUpdate": false,
		"autoUpdate": false,
		"inFlightBehavior": "executeLast",
		"transformationRequired": false,
		"onSuccess": "EshoppingExecute_Total_InCart;EshoppingExecute_Total_Price",
		"liveSource": "eshopping",
		"ignoreCase": false,
		"matchMode": "start",
		"package": "com.eshop.eshopping.Itemorder",
		"propertiesMap": {
			"columns": [
				{
					"fieldName": "product",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "PRODUCT_ID",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": true,
					"defaultValue": null,
					"relatedTableName": "PRODUCT",
					"relatedEntityName": "Product",
					"columns": [
						{
							"fieldName": "id",
							"type": "integer",
							"hibernateType": "integer",
							"fullyQualifiedType": "integer",
							"columnName": "ID",
							"isPrimaryKey": true,
							"notNull": true,
							"length": 255,
							"generator": "identity",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "imgUrl",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "IMG_URL",
							"isPrimaryKey": false,
							"notNull": false,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "category",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "CATEGORY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "price",
							"type": "double",
							"hibernateType": "double",
							"fullyQualifiedType": "double",
							"columnName": "PRICE",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "description",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "DESCRIPTION",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "name",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "NAME",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "availability",
							"type": "boolean",
							"hibernateType": "boolean",
							"fullyQualifiedType": "boolean",
							"columnName": "AVAILABILITY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						}
					],
					"relatedFieldName": "product.id",
					"isList": false
				},
				{
					"fieldName": "user",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "USER_ID",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": true,
					"defaultValue": null,
					"relatedTableName": "USER",
					"relatedEntityName": "User",
					"columns": [
						{
							"fieldName": "id",
							"type": "integer",
							"hibernateType": "integer",
							"fullyQualifiedType": "integer",
							"columnName": "ID",
							"isPrimaryKey": true,
							"notNull": true,
							"length": 255,
							"generator": "identity",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "landmark",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "LANDMARK",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "phone",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PHONE",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 15,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "pin",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PIN",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "email",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "EMAIL",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "street",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "STREET",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "name",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "NAME",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "productBought",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PRODUCT_BOUGHT",
							"isPrimaryKey": false,
							"notNull": false,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "password",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "PASSWORD",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "country",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "COUNTRY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "city",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "CITY",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						},
						{
							"fieldName": "role",
							"type": "string",
							"hibernateType": "string",
							"fullyQualifiedType": "string",
							"columnName": "ROLE",
							"isPrimaryKey": false,
							"notNull": true,
							"length": 255,
							"generator": "assigned",
							"isRelated": false,
							"defaultValue": null
						}
					],
					"relatedFieldName": "user.id",
					"isList": false
				},
				{
					"fieldName": "id",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "ID",
					"isPrimaryKey": true,
					"notNull": true,
					"length": 255,
					"generator": "identity",
					"isRelated": false,
					"defaultValue": null
				},
				{
					"fieldName": "status",
					"type": "string",
					"hibernateType": "string",
					"fullyQualifiedType": "string",
					"columnName": "STATUS",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": false,
					"defaultValue": null
				},
				{
					"fieldName": "quantity",
					"type": "integer",
					"hibernateType": "integer",
					"fullyQualifiedType": "integer",
					"columnName": "QUANTITY",
					"isPrimaryKey": false,
					"notNull": true,
					"length": 255,
					"generator": "assigned",
					"isRelated": false,
					"defaultValue": null
				}
			],
			"primaryFields": [
				"id"
			],
			"entityName": "Itemorder",
			"fullyQualifiedName": "com.eshop.eshopping.Itemorder",
			"tableType": "TABLE"
		},
		"_id": "wm-DeleteCart-wm.LiveVariable-1450090207213",
		"tableName": "ITEMORDER",
		"relatedTables": [
			{
				"relationName": "product",
				"watchOn": "EshoppingProductData",
				"package": "com.eshop.eshopping.Itemorder",
				"columnName": "product",
				"type": "Product"
			},
			{
				"relationName": "user",
				"watchOn": "EshoppingUserData",
				"package": "com.eshop.eshopping.Itemorder",
				"columnName": "user",
				"type": "User"
			}
		],
		"properties": [
			"product",
			"user"
		],
		"inputFields": {},
		"category": "wm.LiveVariable",
		"filterFields": {},
		"tableType": "TABLE"
	}
}
</script>
<script id="Cart.html" type="text/ng-template">
<wm-page name="page1" data-ng-controller="CartPageController" pagetitle="Cart">
    <wm-header name="header1" content="header"></wm-header>
    <wm-top-nav name="top_nav1" content="topnav"></wm-top-nav>
    <wm-content name="content1">
        <wm-page-content name="page_content1" columnwidth="12">
            <wm-layoutgrid name="layoutgrid1" show="true">
                <wm-gridrow name="gridrow1">
                    <wm-gridcolumn name="gridcolumn1" columnwidth="8">
                        <wm-layoutgrid name="layoutgrid2" show="true">
                            <wm-gridrow name="gridrow4">
                                <wm-gridcolumn name="gridcolumn10" columnwidth="2"></wm-gridcolumn>
                                <wm-gridcolumn name="gridcolumn11" columnwidth="6">
                                    <wm-label caption="Description" name="label2"></wm-label>
                                </wm-gridcolumn>
                                <wm-gridcolumn name="gridcolumn12" columnwidth="2">
                                    <wm-label caption="Price ($)" name="label1"></wm-label>
                                </wm-gridcolumn>
                            </wm-gridrow>
                        </wm-layoutgrid>
                        <wm-livelist dataset="bind:Variables.cart.dataSet" name="livelist1" listclass="list-group" itemclass="list-group-item" show="true">
                            <wm-listtemplate name="listtemplate1" layout="blank">
                                <wm-container name="container1" class="blank" data-template-ctr="true">
                                    <wm-layoutgrid name="layoutgrid4">
                                        <wm-gridrow name="gridrow10">
                                            <wm-gridcolumn name="gridcolumn28" columnwidth="2">
                                                <wm-picture picturesource="bind:&quot;http://wmstudio-apps.s3.amazonaws.com/eshop/Products/Thumbnails&quot;+Variables.cart.dataSet.data[$i].product.imgUrl" name="picture1" height="5em"></wm-picture>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn name="gridcolumn29" columnwidth="6">
                                                <wm-label caption="bind:Variables.cart.dataSet.data[$i].product.name" name="label8"></wm-label>
                                                <wm-label caption="bind:Variables.cart.dataSet.data[$i].product.description" name="label9"></wm-label>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn name="gridcolumn30" columnwidth="2">
                                                <wm-label name="label7" width="100%" caption="bind:Variables.cart.dataSet.data[$i].product.price"></wm-label>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn name="gridcolumn37" columnwidth="2">
                                                <wm-button iconclass="glyphicon glyphicon-remove" name="button1" class="btn-default" caption="" type="button" on-click="DeleteCart;cart"></wm-button>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                    </wm-layoutgrid>
                                </wm-container>
                            </wm-listtemplate>
                        </wm-livelist>
                    </wm-gridcolumn>
                    <wm-gridcolumn name="gridcolumn3" columnwidth="4">
                        <wm-container name="container2" show="true">
                            <wm-label width="25%" caption="Total Items:" name="label10"></wm-label>
                            <wm-label caption="bind:Variables.EshoppingExecute_Total_InCart.dataSet.content[$i].TOTAL" width="72%" name="label11"></wm-label>
                            <wm-label caption="Total Price:" width="25%" name="label12"></wm-label>
                            <wm-label caption="bind:Variables.EshoppingExecute_Total_Price.dataSet[$i].C1" width="72%" name="label13"></wm-label>
                            <wm-button bordercolor="#467AD6" iconclass="glyphicon glyphicon-transfer" name="button2" class="btn-success" caption="Checkout" type="button" on-click="EshoppingExecuteOrdered"></wm-button>
                        </wm-container>
                    </wm-gridcolumn>
                </wm-gridrow>
            </wm-layoutgrid>
        </wm-page-content>
    </wm-content>
    <wm-footer name="footer1" content="footer"></wm-footer>
</wm-page>
</script>
